# Name router to vyos1
configure
set system host-name vyos1

# Set BGP to router 1
set protocols bgp system-as 65002
set protocols bgp parameters router-id 192.168.56.2
set protocols bgp neighbor 192.168.56.102 remote-as 65002
set protocols bgp neighbor 192.168.56.102 port 1790 
set protocols bgp neighbor 192.168.56.102 description 'ODL iBGP'
set protocols bgp neighbor 192.168.56.102 address-family ipv4-unicast
set interfaces loopback lo address 192.168.138.1/32

# Delete old OSPF and interface IPs
delete protocols ospf
delete interfaces ethernet eth1 address 10.85.1.1/30
delete interfaces ethernet eth2 address 10.85.2.1/30
delete interfaces ethernet eth3 address 10.85.3.1/30

# Set new interface IPs based on the XY scheme
set interfaces ethernet eth1 address '10.85.12.1/30'
set interfaces ethernet eth2 address '10.85.13.1/30'
set interfaces ethernet eth3 address '10.85.14.1/30'

# Re-create OSPF with the new networks
set protocols ospf area 0 network '10.85.12.0/30'
set protocols ospf area 0 network '10.85.13.0/30'
set protocols ospf area 0 network '10.85.14.0/30'
set protocols ospf area 0 network '192.168.7.1/32'
set protocols ospf parameters router-id '192.168.7.1'
